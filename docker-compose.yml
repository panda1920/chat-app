name: chat_app

services:
  backend:
    image: panda1920/chat_app:dev
    build:
      context: ./backend
      dockerfile: ./docker/dev/Dockerfile
      args:
        UID: 1000 # set your userid here
        GID: 1000 # set your groupid here
    container_name: chat-backend
    command: "npm run start:debug"
    volumes:
      - ./backend:/app
      - ./.aws:/home/node/.aws # use this if your user is 1000:1000
      # - ./.aws:/home/chat_user/.aws # use this instead if your user is not 1000:1000
    ports:
      - 3000:3000
      - 30000:9229
    tty: true
    stdin_open: true
